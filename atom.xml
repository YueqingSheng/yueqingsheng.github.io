<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://yueqingsheng.github.io</id>
    <title>Random thoughts</title>
    <updated>2020-06-21T17:21:45.854Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://yueqingsheng.github.io"/>
    <link rel="self" href="https://yueqingsheng.github.io/atom.xml"/>
    <subtitle>Don&apos;t Learn to Code â€” Learn to Automate</subtitle>
    <logo>https://yueqingsheng.github.io/images/avatar.png</logo>
    <icon>https://yueqingsheng.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, Random thoughts</rights>
    <entry>
        <title type="html"><![CDATA[Windows æœ¬åœ°è¿è¡Œ Jupyter ä½œä¸šæ•™ç¨‹]]></title>
        <id>https://yueqingsheng.github.io/windows-ben-di-yun-xing-jupyter-zuo-ye-jiao-cheng/</id>
        <link href="https://yueqingsheng.github.io/windows-ben-di-yun-xing-jupyter-zuo-ye-jiao-cheng/">
        </link>
        <updated>2020-06-21T05:04:45.000Z</updated>
        <content type="html"><![CDATA[<p>æ¨è Anaconda å‚»ç“œå¼å®‰è£…ï¼Œå®‰è£…å®Œåå¯åŠ¨ Jupyter<br>
<img src="https://yueqingsheng.github.io/post-images/1592759276980.png" alt="" loading="lazy"></p>
<p>ç›´æ¥åœ¨æœ¬åœ°è¿è¡Œä¸‹è½½ä¸‹æ¥çš„ notebook ä¼šæœ‰å‡ ä¸ªé—®é¢˜ï¼Œæä¾›ä¸‹è§£å†³æ–¹æ¡ˆï¼š</p>
<h2 id="1-error-invalid-requirement">1. ERROR: Invalid requirement: '#'</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592759420716.png" alt="" loading="lazy"><br>
å½“å‘½ä»¤è¡Œè¯­å¥å’Œæ³¨é‡Šåœ¨åŒä¸€è¡Œæ—¶å€™ä¼šæŠ¥é”™ï¼Œå¯ä»¥æŠŠåŒè¡Œçš„æ³¨é‡Šå»æ‰ï¼Œæˆ–è€…æŒªåˆ°ä¸Šé¢</p>
<h2 id="2-module-could-not-be-found-æ‰¾ä¸åˆ°é›…è¾¾åˆ©-ä¹’ä¹“ç¯å¢ƒ">2. module could not be found æ‰¾ä¸åˆ°é›…è¾¾åˆ© ä¹’ä¹“ç¯å¢ƒ</h2>
<p>åšå¦‚ä¸‹å‡ æ­¥</p>
<ol>
<li>
<p>å¸è½½ gym and atari-py (If already installed):<br>
pip uninstall atari-py<br>
pip uninstall gym[atari]</p>
</li>
<li>
<p>ä¸‹è½½ VS build å·¥å…· : https://visualstudio.microsoft.com/thank-you-downloading-visual-studio/?sku=BuildTools&amp;rel=16</p>
</li>
<li>
<p>è¿è¡Œå¹¶é€‰æ‹©  &quot;C++ build tools&quot;å®‰è£….<br>
<img src="https://yueqingsheng.github.io/post-images/1592759774751.png" alt="" loading="lazy"></p>
</li>
<li>
<p>é‡å¯ç”µè„‘</p>
</li>
<li>
<p>å®‰è£… cmake, atari-py and gym<br>
pip install cmake<br>
pip install atari-py<br>
pip install gym[atari]</p>
</li>
<li>
<p>è·‘ä¸€ä¸‹æµ‹è¯•:<br>
import atari_py<br>
print(atari_py.list_games())<br>
å¦‚æœæˆåŠŸä¼š print ä¸‹é¢</p>
</li>
</ol>
<pre><code>['adventure', 'air_raid', 'alien', 'amidar', 'assault', 'asterix', 'asteroids', 'atlantis', 'bank_heist', 'battle_zone', 'beam_rider', 'berzerk', 'bowling', 'boxing', 'breakout', 'carnival', 'centipede', 'chopper_command', 'crazy_climber', 'defender', 'demon_attack', 'double_dunk', 'elevator_action', 'enduro', 'fishing_derby', 'freeway', 'frostbite', 'gopher', 'gravitar', 'hero', 'ice_hockey', 'jamesbond', 'journey_escape', 'kaboom', 'kangaroo', 'krull', 'kung_fu_master', 'montezuma_revenge', 'ms_pacman', 'name_this_game', 'phoenix', 'pitfall', 'pong', 'pooyan', 'private_eye', 'qbert', 'riverraid', 'road_runner', 'robotank', 'seaquest', 'skiing', 'solaris', 'space_invaders', 'star_gunner', 'tennis', 'time_pilot', 'tutankham', 'up_n_down', 'venture', 'video_pinball', 'wizard_of_wor', 'yars_revenge', 'zaxxon']
</code></pre>
<h2 id="3-wrn-found-non-empty-cuda_visible_devices-but-parl-found-that-paddle-was-not-complied-with-cuda-which-may-cause-issues-keneral-dead">3. WRN Found non-empty CUDA_VISIBLE_DEVICES. But PARL found that Paddle was not complied with CUDA, which may cause issues. keneral dead</h2>
<p>è¿™ä¸ªé”™è¯¯ Kernel ä¼šæŒ‚æ‰ï¼Œç„¶åæ— é™é‡å¯ï¼Œä¸»è¦æ˜¯ æ£€æµ‹åˆ°äº†ç”µè„‘é‡Œçš„GPU, ä½†æ˜¯æ²¡æœ‰å®‰è£… Cuda å¯¼è‡´çš„ã€‚ å› ä¸ºè¿™é‡Œæˆ‘ä»¬åªä½¿ç”¨ CPU æ¥è·‘ï¼Œæ‰€ä»¥æŠŠ GPU æ£€æµ‹å…³é—­å°±å¥½äº†<br>
åœ¨æœ€åè¿è¡Œä»£ç å‰åŠ ä¸Šè¿™ä¸¤è¡Œï¼š</p>
<pre><code>import os
os.environ[&quot;CUDA_VISIBLE_DEVICES&quot;] = &quot;-1&quot;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¼ºåŒ–å­¦ä¹  Day5 è¿ç»­ç©ºé—´åŠ¨ä½œ DDPG]]></title>
        <id>https://yueqingsheng.github.io/qiang-hua-xue-xi-day5-lian-xu-kong-jian-dong-zuo-ddpg/</id>
        <link href="https://yueqingsheng.github.io/qiang-hua-xue-xi-day5-lian-xu-kong-jian-dong-zuo-ddpg/">
        </link>
        <updated>2020-06-21T03:21:00.000Z</updated>
        <content type="html"><![CDATA[<p><img src="https://yueqingsheng.github.io/post-images/1592752914800.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592752944679.png" alt="" loading="lazy"><br>
DQN æ‰©å±•åˆ°è¿ç»­æ§åˆ¶åŠ¨ä½œç©ºé—´<br>
ç­–ç•¥ç½‘ç»œè´Ÿè´£å¯¹å¤–å±•ç¤ºåŠ¨ä½œ, critc å¯¹action æ‰“åˆ†ï¼Œaction -&gt; Q valueï¼Œè¿åˆè¯„å§”ç½‘ç»œä½¿ Q å°½å¯èƒ½é«˜<br>
<img src="https://yueqingsheng.github.io/post-images/1592753557001.png" alt="" loading="lazy"><br>
Q ç½‘ç»œé€¼è¿‘ Q-target, ä½¿ç”¨ MSE<br>
Q target ä¸ç¨³å®šï¼Œæ‰€ä»¥ä¸“é—¨å»ºç«‹ target_Q å’Œ target_P ç½‘ç»œï¼ˆnext_action ï¼‰<br>
<img src="https://yueqingsheng.github.io/post-images/1592753707568.png" alt="" loading="lazy"><br>
ä¸ºäº†é˜²æ­¢ target_Q ç½‘ç»œæ›´æ–°, (å®šæœŸcopy), éœ€è¦ stop gradient<br>
<img src="https://yueqingsheng.github.io/post-images/1592754333762.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592754555792.png" alt="" loading="lazy"><br>
åªæ›´æ–° <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î¸</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">Î¸</span></span></span></span>, æ‰€ä»¥minimize ä¸­ ä¼ å…¥è¦æ›´æ–°çš„ actor å‚æ•°<br>
<img src="https://yueqingsheng.github.io/post-images/1592754856731.png" alt="" loading="lazy"></p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<figure data-type="image" tabindex="1"><img src="https://yueqingsheng.github.io/post-images/1592754975966.png" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç³»ç»Ÿè®¾è®¡7 GFS]]></title>
        <id>https://yueqingsheng.github.io/xi-tong-she-ji-7-gfs/</id>
        <link href="https://yueqingsheng.github.io/xi-tong-she-ji-7-gfs/">
        </link>
        <updated>2020-06-20T17:13:25.000Z</updated>
        <content type="html"><![CDATA[<p>as</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¼ºåŒ–å­¦ä¹  Day 4 åŸºäºç­–ç•¥æ–¹æ³•]]></title>
        <id>https://yueqingsheng.github.io/qiang-hua-xue-xi-day-4-ji-yu-ce-lue-fang-fa/</id>
        <link href="https://yueqingsheng.github.io/qiang-hua-xue-xi-day-4-ji-yu-ce-lue-fang-fa/">
        </link>
        <updated>2020-06-18T06:28:35.000Z</updated>
        <content type="html"><![CDATA[<h2 id="value-based-vs-policy-based">Value-based vs policy-based</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592591392361.png" alt="" loading="lazy"><br>
policy based :  ç›´æ¥æ±‚action<br>
policy based:  è¾“å‡ºåŠ¨ä½œçš„æ¦‚ç‡<br>
<img src="https://yueqingsheng.github.io/post-images/1592591618895.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592591641683.png" alt="" loading="lazy"><br>
æœ€åä¸€å±‚ softmax<br>
episode: æ¯è½®æ¸¸æˆ<br>
ä¼˜åŒ–ç›®çš„ï¼š max æ¯ä¸ªepisodeçš„æ€»reward<br>
<img src="https://yueqingsheng.github.io/post-images/1592602759204.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592602819167.png" alt="" loading="lazy"><br>
ç¯å¢ƒçš„éšæœºæ€§æ— æ³•æ§åˆ¶</p>
<h2 id="æœŸæœ›å›æŠ¥">æœŸæœ›å›æŠ¥</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592603030920.png" alt="" loading="lazy"><br>
ç¯å¢ƒæ¦‚ç‡æ˜¯æœªçŸ¥çš„ï¼Œ Næ˜¯ episodeæ•°ã€‚</p>
<h3 id="ä¼˜åŒ–ç­–ç•¥å‡½æ•°">ä¼˜åŒ–ç­–ç•¥å‡½æ•°</h3>
<p><img src="https://yueqingsheng.github.io/post-images/1592603189106.png" alt="" loading="lazy"><br>
ä¼˜åŒ–ç›®æ ‡ æœŸæœ›å›æŠ¥æœ€å¤§ï¼Œ æ¢¯åº¦ä¸Šå‡<br>
<img src="https://yueqingsheng.github.io/post-images/1592610701005.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592623362667.png" alt="" loading="lazy"><br>
è’™ç‰¹å¡æ´›æ¯ä¸ª Episode æ›´æ–°ä¸€æ¬¡ï¼Œ æ—¶åºå·®åˆ†æ¯ä¸ªactionæ›´æ–°ä¸€æ¬¡<br>
<img src="https://yueqingsheng.github.io/post-images/1592623555097.png" alt="" loading="lazy"><br>
æ ¹æ®å…¬å¼åå‘æ¨åˆ°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">G_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<h2 id="reinforce">Reinforce</h2>
<p>æ¯ä¸ª Episode , é€šè¿‡ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">(s_t, a_t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> æ±‚å‡º G_t, å¯¹äºæ¯ä¸€æ­¥ä½¿ç”¨ ln å‡½æ•°æ›´æ–°ç¥ç»ç½‘ç»œå‚æ•°å€¼<br>
<img src="https://yueqingsheng.github.io/post-images/1592624092549.png" alt="" loading="lazy"><br>
ç±»æ¯” Cross entrophy, å› ä¸ºsum_ln ä¸ä¸€å®šæ˜¯æ­£ç¡®çš„acition, åªæ˜¯çœŸå®çš„action, æ‰€ä»¥éœ€è¦ä¹˜ä¸Šæ€»å¥–åŠ±ç³»æ•° G<br>
<img src="https://yueqingsheng.github.io/post-images/1592624728691.png" alt="" loading="lazy"></p>
<h3 id="æµç¨‹å›¾">æµç¨‹å›¾</h3>
<figure data-type="image" tabindex="1"><img src="https://yueqingsheng.github.io/post-images/1592625148267.png" alt="" loading="lazy"></figure>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<figure data-type="image" tabindex="2"><img src="https://yueqingsheng.github.io/post-images/1592625752484.png" alt="" loading="lazy"></figure>
<p><img src="https://yueqingsheng.github.io/post-images/1592626079005.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592626129133.png" alt="" loading="lazy"></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç³»ç»Ÿè®¾è®¡6 èŠå¤©ç³»ç»Ÿ]]></title>
        <id>https://yueqingsheng.github.io/xi-tong-she-ji-6-liao-tian-xi-tong/</id>
        <link href="https://yueqingsheng.github.io/xi-tong-she-ji-6-liao-tian-xi-tong/">
        </link>
        <updated>2020-06-16T18:56:09.000Z</updated>
        <content type="html"><![CDATA[<h2 id="è®¾è®¡å¾®ä¿¡">è®¾è®¡å¾®ä¿¡</h2>
<h2 id="scenario">Scenario</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592496158173.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592496270302.png" alt="" loading="lazy"><br>
å¾®ä¿¡ä¸æ˜¯ç‚¹å¯¹ç‚¹é€šä¿¡ï¼Ÿ ä¸æ˜¯ï¼Œå¯ä»¥ç•™è¨€ã€‚å†å²æ¶ˆæ¯å­˜åœ¨æœåŠ¡å™¨ï¼Œç•™ä¸€æ®µæ—¶é—´(ç¼“å†²æœŸ)åˆ é™¤ï¼Œæˆ–è€…ä¸åˆ é™¤ã€‚</p>
<h2 id="service">Service</h2>
<figure data-type="image" tabindex="1"><img src="https://yueqingsheng.github.io/post-images/1592496789439.png" alt="" loading="lazy"></figure>
<h2 id="storage">Storage</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592499919444.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592500035973.png" alt="" loading="lazy"></p>
<h3 id="thread-table-ä¼šè¯">Thread table (ä¼šè¯)</h3>
<p><img src="https://yueqingsheng.github.io/post-images/1592690543672.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592690857535.png" alt="" loading="lazy"><br>
æœ‰äº›ä¿¡æ¯æ˜¯ç§æœ‰çš„ï¼Œæœªè¯»ï¼Œé™éŸ³<br>
<img src="https://yueqingsheng.github.io/post-images/1592691079629.png" alt="" loading="lazy"></p>
<h4 id="æ–¹æ³•-1">æ–¹æ³• 1</h4>
<p><img src="https://yueqingsheng.github.io/post-images/1592691168124.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592691312651.png" alt="" loading="lazy"><br>
ç§æœ‰çš„ä¿¡æ¯å­˜åœ¨ User thread, å¦‚ä½•çŸ¥é“å‚ä¸äººï¼ŒæŸ¥æ‰¾æ‰€æœ‰è¡¨é‡Œæœ‰ç›¸åŒtherad_idï¼Œ primary key = userId + thread id<br>
å¼Šç«¯ï¼šéœ€è¦è·¨è¡¨æŸ¥è¯¢æ¯”è¾ƒæ…¢</p>
<h4 id="æ–¹æ³•-2">æ–¹æ³• 2</h4>
<p><img src="https://yueqingsheng.github.io/post-images/1592691650849.png" alt="" loading="lazy"><br>
å®é™…æƒ…å†µä¸‹ä½¿ç”¨cache , å‡å°‘è·¨è¡¨æ¬¡æ•°ã€‚</p>
<h3 id="é€šè¿‡-å‚ä¸è€…-æŸ¥è¯¢-thread-id">é€šè¿‡ å‚ä¸è€… æŸ¥è¯¢ thread id</h3>
<figure data-type="image" tabindex="2"><img src="https://yueqingsheng.github.io/post-images/1592692220394.png" alt="" loading="lazy"></figure>
<h2 id="message-å­˜å‚¨ç»“æ„å†™å¤šè¯»å°‘">Message å­˜å‚¨ç»“æ„ï¼ˆå†™å¤šè¯»å°‘ï¼‰</h2>
<h3 id="nosqloptimize-for-write">Nosql(optimize for write)</h3>
<figure data-type="image" tabindex="3"><img src="https://yueqingsheng.github.io/post-images/1592692649085.png" alt="" loading="lazy"></figure>
<h2 id="thread-sql">Thread SQL</h2>
<figure data-type="image" tabindex="4"><img src="https://yueqingsheng.github.io/post-images/1592692933866.png" alt="" loading="lazy"></figure>
<h3 id="nosql">NoSQL</h3>
<p><img src="https://yueqingsheng.github.io/post-images/1592692999885.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592707081552.png" alt="" loading="lazy"></p>
<h2 id="å¯è¡Œè§£">å¯è¡Œè§£</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592707202439.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592707251898.png" alt="" loading="lazy"></p>
<h2 id="scale">Scale</h2>
<p>å®æ—¶<br>
Push notification<br>
<img src="https://yueqingsheng.github.io/post-images/1592707456643.png" alt="" loading="lazy"><br>
å±€é™æ€§ï¼š æ— æ³•æ”¯æŒ Web ç«¯<br>
Socket: æ”¯æŒ Server push ç»™å®¢æˆ·ç«¯<br>
<img src="https://yueqingsheng.github.io/post-images/1592707919405.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592708079822.png" alt="" loading="lazy"></p>
<h2 id="channel-service-æ”¯æŒç¾¤èŠ">Channel Service æ”¯æŒç¾¤èŠ</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592708303585.png" alt="" loading="lazy"><br>
channel service é‡Œçš„ key å°±æ˜¯ channel çš„åå­—ï¼Œvalue æ˜¯åœ¨è¿™ä¸ª channel ä¸‹æœ‰å“ªäº›äººã€‚<br>
å› ä¸º channel æ˜¯ä¸€ä¸ª key-value çš„å­˜å‚¨ç»“æ„ï¼Œvalue æ˜¯ä¸€ä¸ª setï¼Œæ”¯æŒç”¨æˆ·ä¸Šä¸‹çº¿ï¼ˆå¢åˆ ï¼‰ï¼Œæ‰€ä»¥ Redis æ˜¯å¯ä»¥å¾ˆå¥½æ”¯æŒ value æ˜¯ set çš„ä¸€ç§ key-value ç»“æ„ã€‚</p>
<h3 id="q-a">Q &amp; A</h3>
<figure data-type="image" tabindex="5"><img src="https://yueqingsheng.github.io/post-images/1592708930601.png" alt="" loading="lazy"></figure>
<h2 id="å¤šæœºç™»å½•">å¤šæœºç™»å½•</h2>
<figure data-type="image" tabindex="6"><img src="https://yueqingsheng.github.io/post-images/1592715706014.png" alt="" loading="lazy"></figure>
<h2 id="ç”¨æˆ·åœ¨çº¿çŠ¶æ€æ˜¾ç¤º">ç”¨æˆ·åœ¨çº¿çŠ¶æ€æ˜¾ç¤º</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592715930630.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592716061460.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592716185953.png" alt="" loading="lazy"></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¼ºåŒ–å­¦ä¹  Day 3 ç¥ç»ç½‘ç»œæ–¹æ³•]]></title>
        <id>https://yueqingsheng.github.io/qiang-hua-xue-xi-day-3-shen-jing-wang-luo-fang-fa/</id>
        <link href="https://yueqingsheng.github.io/qiang-hua-xue-xi-day-3-shen-jing-wang-luo-fang-fa/">
        </link>
        <updated>2020-06-16T17:28:45.000Z</updated>
        <content type="html"><![CDATA[<h2 id="q-è¡¨ä¸é€‚åˆçš„åœºæ™¯">Q è¡¨ä¸é€‚åˆçš„åœºæ™¯</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592501404580.png" alt="" loading="lazy"><br>
çŠ¶æ€å¤ªå¤šæˆ–è€…ä¸å¯æ•°ï¼Œè¡¨æ ¼æ— æ³•å®¹çº³</p>
<h2 id="å€¼å‡½æ•°è¿‘ä¼¼">å€¼å‡½æ•°è¿‘ä¼¼</h2>
<figure data-type="image" tabindex="1"><img src="https://yueqingsheng.github.io/post-images/1592503297313.png" alt="" loading="lazy"></figure>
<h2 id="ç¥ç»ç½‘ç»œ">ç¥ç»ç½‘ç»œ</h2>
<p>æ‹Ÿåˆä»»æ„å‡½æ•° map x(è¾“å…¥)-&gt;yï¼ˆè¾“å‡ºï¼‰<br>
<img src="https://yueqingsheng.github.io/post-images/1592503591885.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592503739786.png" alt="" loading="lazy"></p>
<h2 id="dqn">DQN</h2>
<p>æ‹ŸåˆQè¡¨æ ¼ï¼Œæ‰¾å‡º s åˆ° Q çš„ maping, å³ Q è¡¨æ ¼<br>
<img src="https://yueqingsheng.github.io/post-images/1592504045511.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592504377262.png" alt="" loading="lazy"><br>
s=&gt; Qï¼ˆ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mo>âˆ—</mo></msub></mrow><annotation encoding="application/x-tex">a_*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼‰, è¾“å‡ºä¸€ä¸ªåŒ…å«ä¸åŒ a çš„å‘é‡ï¼Œ é€¼è¿‘ Target Q</p>
<h3 id="åˆ›æ–°ç‚¹">åˆ›æ–°ç‚¹</h3>
<h4 id="1-ç»éªŒå›æ”¾">1. ç»éªŒå›æ”¾</h4>
<p><img src="https://yueqingsheng.github.io/post-images/1592504472911.png" alt="" loading="lazy"><br>
å­˜å‚¨ä¸€éƒ¨åˆ†ç»éªŒæ•°æ®ï¼Œä»ä¸­éšæœºé€‰å–ä¸€éƒ¨åˆ† (batch) æ›´æ–°æ•°æ®</p>
<h5 id="off-policy-å›é¡¾">off-policy å›é¡¾</h5>
<p>å£«å…µ (behavior policy):  æ ¹æ®æˆ˜æœ¯æ”»æ‰“å ¡å’ï¼Œæ‹¿åˆ°æˆ˜æ–—ç»éªŒï¼Œç»™åˆ°å†›å¸ˆåˆ†æ<br>
å†›å¸ˆ (Target policy): æ ¹æ®ç»éªŒï¼Œæå‡æˆ˜æœ¯ï¼Œè®©å‰æ–¹æˆ˜å£«æ‰“çš„æ›´å¥½<br>
æˆ˜æœ¯ (Q table)<br>
DQNï¼Œ å†›å¸ˆä»å£«å…µçš„ç»éªŒæ± éšæœºæŠ½å–ä¸€éƒ¨åˆ†ç»éªŒã€‚ä½¿ç”¨ç¼“å†²åŒºå­˜å‚¨ç»éªŒï¼Œç»éªŒå¯ä»¥é‡å¤åˆ©ç”¨ã€‚<br>
<img src="https://yueqingsheng.github.io/post-images/1592505463466.png" alt="" loading="lazy"><br>
sample è¾“å…¥ batch_size è¾“å‡ºæŠ½å–çš„5ä¸ªæ•°ç»„<br>
<img src="https://yueqingsheng.github.io/post-images/1592505685903.png" alt="" loading="lazy"></p>
<h4 id="2-å›ºå®š-q-ç›®æ ‡">2. å›ºå®š Q ç›®æ ‡</h4>
<p>ä¿æŒ Q_target ç¨³å®šï¼Œ å®šæœŸ copy Q<br>
<img src="https://yueqingsheng.github.io/post-images/1592512287833.png" alt="" loading="lazy"></p>
<h3 id="dqn-æµç¨‹å›¾">DQN æµç¨‹å›¾</h3>
<figure data-type="image" tabindex="2"><img src="https://yueqingsheng.github.io/post-images/1592512821261.png" alt="" loading="lazy"></figure>
<h2 id="parl-dqn">PARL DQN</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592513030605.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592513082474.png" alt="" loading="lazy"><br>
model ç¥ç»ç½‘ç»œï¼Œ Algorithm  loss function , agent å’Œç¯å¢ƒäº¤äº’</p>
<h3 id="modelpy">model.py</h3>
<p><img src="https://yueqingsheng.github.io/post-images/1592513356656.png" alt="" loading="lazy"><br>
è¾“å…¥ obs(S)ï¼Œé€šè¿‡ç¥ç»ç½‘ç»œè®¡ç®— Q å€¼</p>
<h3 id="algorithm">algorithm</h3>
<p>init : è¾“å…¥model å’Œ å‚æ•°ï¼Œcopy model, åˆå§‹åŒ–å‚æ•°,model , target_model<br>
<img src="https://yueqingsheng.github.io/post-images/1592513526805.png" alt="" loading="lazy"><br>
sync_target: åŒæ­¥ model, target_model å‚æ•°<br>
<img src="https://yueqingsheng.github.io/post-images/1592513630399.png" alt="" loading="lazy"><br>
predict: è¿”å› model çš„å€¼ï¼Œ Q</p>
<h4 id="learn">learn:</h4>
<figure data-type="image" tabindex="3"><img src="https://yueqingsheng.github.io/post-images/1592514289290.png" alt="" loading="lazy"></figure>
<ol>
<li>è®¡ç®— target_Q<br>
<img src="https://yueqingsheng.github.io/post-images/1592513814629.png" alt="" loading="lazy"><br>
freeze target_Q, é˜»æ­¢æ¢¯åº¦ä¼ é€’ï¼Œé˜²æ­¢å‚æ•°æ›´æ–°</li>
<li>è®¡ç®— Q(s,a)<br>
layers.cast(done) true è¿”å› 1ï¼Œ false è¿”å› 0<br>
action åš onehotï¼Œ ä¹˜ä»¥ Q(s,a) å¾—åˆ° real Q</li>
<li>è®¡ç®— loss</li>
</ol>
<h4 id="agent">agent:</h4>
<p>æ›´æ–°ç½‘ç»œï¼Œè·å– Q å€¼ã€‚</p>
<h4 id="cartpole">CartPole</h4>
<p><img src="https://yueqingsheng.github.io/post-images/1592514818545.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592514957943.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592515112909.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592515130186.png" alt="" loading="lazy"></p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592515451246.png" alt="" loading="lazy"><br>
è·Ÿ Q learning ä¸»è¦åŒºåˆ«å°±æ˜¯ä½¿ç”¨ç¥ç»ç½‘ç»œè®¡ç®— Q å€¼ï¼Œæ‰©å±•äº† Q å€¼çš„èŒƒå›´ã€‚å¹¶ä½¿ç”¨ç»éªŒå›æ”¾å’Œå›ºå®šQç›®æ ‡ï¼Œé‡å¤åˆ©ç”¨äº†ç»éªŒæ ·æœ¬å’Œç¨³å®šäº†ç®—æ³•ã€‚</p>
<h2 id="æ‹“å±•">æ‹“å±•</h2>
<p><a href="https://zhuanlan.zhihu.com/p/63368522">DQNè°ƒå‚</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Day 2 Sarsa & Q-learning å®ç°æ€è·¯]]></title>
        <id>https://yueqingsheng.github.io/day-2-zuo-ye-si-lu/</id>
        <link href="https://yueqingsheng.github.io/day-2-zuo-ye-si-lu/">
        </link>
        <updated>2020-06-14T00:20:09.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ç¬¬ä¸€æ­¥æŠŠ-q-table-çœ‹ä¸€ä¸‹">ç¬¬ä¸€æ­¥æŠŠ Q table çœ‹ä¸€ä¸‹</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592440727420.png" alt="" loading="lazy"><br>
16è¡Œ4åˆ—çš„np arrayï¼Œ æ¯ä¸€æ ¼ä¸ºQ(state, action)çš„å€¼</p>
<h2 id="sampleå’Œpredict-å°±æ˜¯epsilon-greedyç®—æ³•">sampleå’Œpredict:  å°±æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ïµ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">Ïµ</span></span></span></span>-greedyç®—æ³•</h2>
<figure data-type="image" tabindex="1"><img src="https://yueqingsheng.github.io/post-images/1592439809913.png" alt="" loading="lazy"></figure>
<h3 id="sample">sample</h3>
<p>åœ¨ 0-1 roll ä¸€ä¸ªæ•°ï¼Œå¦‚æœè¿™ä¸ªæ•°å°äºç­‰äº1- <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ïµ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">Ïµ</span></span></span></span> å°±è§¦å‘argmaxäº‹ä»¶ï¼Œå¦åˆ™è§¦å‘éšæœºè¡ŒåŠ¨ã€‚</p>
<p>å¯èƒ½ä¼šç”¨åˆ°çš„å‡½æ•°ï¼š</p>
<blockquote>
<p>numpy.random.uniform(low=0.0, high=1.0, size=None)<br>
åœ¨ low åˆ° high èŒƒå›´å–sizeä¸ªæ ·æœ¬ï¼Œé»˜è®¤0åˆ°1å–ä¸€ä¸ªæ ·æœ¬</p>
</blockquote>
<blockquote>
<p>numpy.random.choice(a, size=None, replace=True, p=None)<br>
ä» a åˆ—è¡¨é‡Œéšæœºé€‰sizeä¸ªæ•°ï¼Œ aå¯ä»¥æ˜¯1ç»´åˆ—è¡¨æˆ–è€…int, intçš„è¯å°±æ˜¯ range(a)<br>
Parameters: a: If an ndarray, a random sample is generated from its elements. If an int, the random sample is generated as if a was np.arange(n)</p>
</blockquote>
<h3 id="predict">predict</h3>
<p>ä»ç¬¬ s/obs è¡Œï¼Œå– Q å€¼æœ€å¤§çš„ aã€‚=&gt; find the max index of valueï¼Œå³æ±‚æœ€å¤§å€¼çš„åæ ‡ã€‚<br>
å› ä¸ºæœ‰å¯èƒ½æœ‰å¤šä¸ªæœ€å¤§å€¼ï¼Œæˆ‘ä»¬ä¸æƒ³æ¯æ¬¡éƒ½èµ°åŒä¸€ä¸ªaction, æ‰€ä»¥ä»è¿™äº›æœ€å¤§å€¼çš„åæ ‡éšæœºå‡ºä¸€ä¸ªã€‚</p>
<p>å¯èƒ½ä¼šç”¨åˆ°çš„å‡½æ•°ï¼š</p>
<blockquote>
<p>ä» 2D Numpy Array é€‰æŸè¡Œï¼š  ndArray[row_index] æˆ–è€… ndArray[row_index, :]<br>
numpy.where(condition) è¾“å‡ºæ»¡è¶³æ¡ä»¶ ((condition)) å…ƒç´ çš„åæ ‡ (ç­‰ä»·äºnumpy.nonzero)ã€‚è¿™é‡Œçš„åæ ‡ä»¥tupleçš„å½¢å¼ç»™å‡ºã€‚</p>
</blockquote>
<p>è¿™é‡Œ np.where è¿”å›ç±»ä¼¼ (array([0, 1, 2, 3]),) å…ƒç»„è¿™ç§æ ¼å¼ã€‚æ‰€ä»¥ç”¨ä¸‹æ ‡å–å‡ºç¬¬ä¸€ä¸ªarray</p>
<h2 id="learn">learn</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592444105446.png" alt="" loading="lazy"><br>
è¿™é‡Œå°±æ˜¯å…ˆæŠŠæ–¹æ‹¬å·é‡Œçš„ç®—å‡ºæ¥ï¼Œå†ä¹˜ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">Î±</span></span></span></span> åŠ ä¸ŠåŸæ¥çš„å€¼<br>
Q learning çš„ sample å’Œ predict å’Œ Sarsa å®Œå…¨ä¸€æ ·ï¼Œå”¯ä¸€å°±æ˜¯ æ›´æ–° Q çš„å…¬å¼ä¸åŒã€‚<br>
<img src="https://yueqingsheng.github.io/post-images/1592428118258.png" alt="" loading="lazy"></p>
<h2 id="æ˜¾ç¤ºè§†å›¾">æ˜¾ç¤ºè§†å›¾</h2>
<p>æŠŠ test_episode é‡Œçš„è¿™ä¸¤è¡Œåæ³¨é‡Šæ‰<br>
<img src="https://yueqingsheng.github.io/post-images/1592449956397.png" alt="" loading="lazy"><br>
gridworld.py ä¸‹è½½åœ°å€ï¼šhttps://raw.githubusercontent.com/PaddlePaddle/PARL/develop/examples/tutorials/lesson1/gridworld.py</p>
<pre><code class="language-python">from gridworld import FrozenLakeWapper
env = gym.make(&quot;FrozenLake-v0&quot;, is_slippery=False) 
env = FrozenLakeWapper(env)
</code></pre>
<h2 id="é”™è¯¯no-display-name-and-no-display-environment-variable">é”™è¯¯ï¼šno display name and no $DISPLAY environment variable</h2>
<p>Jupyteræ²¡æœ‰çª—å£ç¯å¢ƒï¼Œè¦æœ¬åœ°è¿è¡Œï¼Œæˆ–è€…è¿œç¨‹terminalè·‘æ‰è¡Œ</p>
<h2 id="ç»“æœå±•ç¤º">ç»“æœå±•ç¤º</h2>
<h3 id="sarsa">Sarsa</h3>
<figure data-type="image" tabindex="2"><img src="https://yueqingsheng.github.io/post-images/1592448717310.gif" alt="" loading="lazy"></figure>
<h3 id="q-learning">Q-learning</h3>
<figure data-type="image" tabindex="3"><img src="https://yueqingsheng.github.io/post-images/1592449876779.gif" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¼ºåŒ–å­¦ä¹  Day 2 Sarsa & Q-learning]]></title>
        <id>https://yueqingsheng.github.io/qiang-hua-xue-xi-day-2-sarsa-q-learning/</id>
        <link href="https://yueqingsheng.github.io/qiang-hua-xue-xi-day-2-sarsa-q-learning/">
        </link>
        <updated>2020-06-13T05:57:25.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å¼ºåŒ–å­¦ä¹ mdpå››å…ƒç»„s-a-p-r">å¼ºåŒ–å­¦ä¹ MDPå››å…ƒç»„&lt;S, A, P, R&gt;</h2>
<p>å¼ºåŒ–å­¦ä¹ æ˜¯è§£å†³è·Ÿæ—¶é—´ç›¸å…³çš„åºåˆ—å†³ç­–é—®é¢˜ã€‚<br>
<img src="https://yueqingsheng.github.io/post-images/1592416960594.png" alt="" loading="lazy"></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mo>[</mo><msub><mi>s</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>t</mi></msub><mi mathvariant="normal">âˆ£</mi><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo>]</mo></mrow><annotation encoding="application/x-tex">p[s_{t+1}, r_{t} | s_{t}, a_{t}]
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mtext>åœ¨</mtext><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mi>t</mi></msub></mstyle><mtext>æ—¶åˆ»ï¼Œé€‰æ‹©</mtext><mstyle scriptlevel="0" displaystyle="false"><msub><mi>a</mi><mi>t</mi></msub></mstyle><mtext>åŠ¨ä½œçš„æ—¶å€™ï¼Œè½¬ç§»åˆ°</mtext><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub></mstyle><mtext>Â è€Œä¸”æ‹¿åˆ°Â </mtext><mstyle scriptlevel="0" displaystyle="false"><msub><mi>r</mi><mi>t</mi></msub></mstyle><mtext>å¥–åŠ±</mtext></mrow><mi mathvariant="normal">çš„</mi><mi mathvariant="normal">æ¦‚</mi><mi mathvariant="normal">ç‡</mi></mrow><annotation encoding="application/x-tex">\text{åœ¨$s_ t$æ—¶åˆ»ï¼Œé€‰æ‹©$a_t$åŠ¨ä½œçš„æ—¶å€™ï¼Œè½¬ç§»åˆ°$s_{t+1}$ è€Œä¸”æ‹¿åˆ° $r_{t}$å¥–åŠ±}çš„æ¦‚ç‡
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord text"><span class="mord cjk_fallback">åœ¨</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">æ—¶åˆ»ï¼Œé€‰æ‹©</span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">åŠ¨ä½œçš„æ—¶å€™ï¼Œè½¬ç§»åˆ°</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mord">Â </span><span class="mord cjk_fallback">è€Œä¸”æ‹¿åˆ°</span><span class="mord">Â </span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">å¥–åŠ±</span></span><span class="mord cjk_fallback">çš„</span><span class="mord cjk_fallback">æ¦‚</span><span class="mord cjk_fallback">ç‡</span></span></span></span></span></p>
<blockquote>
<p>é©¬å°”å¯å¤«æ€§è´¨: å½“å‰æ—¶åˆ»çš„çŠ¶æ€ä»…ä¸å‰ä¸€æ—¶åˆ»çš„çŠ¶æ€å’ŒåŠ¨ä½œæœ‰å…³ï¼Œä¸å…¶ä»–æ—¶åˆ»çš„çŠ¶æ€å’ŒåŠ¨ä½œæ¡ä»¶ç‹¬ç«‹ã€‚</p>
</blockquote>
<blockquote>
<p>é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMarkov Decision Process, MDPï¼‰æ˜¯åºè´¯å†³ç­–ï¼ˆsequential decisionï¼‰çš„æ•°å­¦æ¨¡å‹ï¼Œç”¨äºåœ¨ç³»ç»ŸçŠ¶æ€å…·æœ‰é©¬å°”å¯å¤«æ€§è´¨çš„ç¯å¢ƒä¸­æ¨¡æ‹Ÿæ™ºèƒ½ä½“å¯å®ç°çš„éšæœºæ€§ç­–ç•¥ä¸å›æŠ¥</p>
</blockquote>
<p><img src="https://yueqingsheng.github.io/post-images/1592419241042.png" alt="" loading="lazy"><br>
På‡½æ•°ï¼šéšæœºæ€§ï¼Œè½¬ç§»åˆ°å¦å¤–ä¸€ç§çŠ¶æ€çš„æ¦‚ç‡<br>
Rå‡½æ•°ï¼šå¥–åŠ±å‡½æ•°</p>
<h2 id="model-based-vs-model-free">Model-based vs Model-free</h2>
<p>Model based: å¦‚æœ P, R å·²çŸ¥ï¼Œåˆ™ç¯å¢ƒæ˜¯å·²çŸ¥çš„ï¼Œå¯ä»¥ç”¨åŠ¨æ€è§„åˆ’è®¡ç®—æœ€ä¼˜æ–¹æ¡ˆã€‚<br>
Model free: å½“è§£å†³æœªçŸ¥æˆ–éšæœºçš„ç¯å¢ƒæ—¶ï¼Œå³ P, R æœªçŸ¥ï¼Œå¯ä»¥ä½¿ç”¨å¼ºåŒ–å­¦ä¹ ã€‚</p>
<h2 id="q-å‡½æ•°">Q å‡½æ•°</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592419978987.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592420512413.png" alt="" loading="lazy"><br>
Qçš„ç›®æ ‡æ˜¯æœªæ¥çš„æ€»æ”¶ç›Š<br>
<img src="https://yueqingsheng.github.io/post-images/1592420605219.png" alt="" loading="lazy"><br>
ä½†æ˜¯å½“æ—¶é—´è¿‡é•¿æ—¶ï¼Œéœ€è¦åŠ ä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î³</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">Î³</span></span></span></span> è¡°å‡ç³»æ•°ï¼Œæ—¶é—´è¶Šä¹…ï¼Œå¯¹å½“å‰çš„æ”¶ç›Šå½±å“è¶Šå°</p>
<h2 id="æ›´æ–°qè¡¨æ ¼">æ›´æ–°Qè¡¨æ ¼</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592421245188.png" alt="" loading="lazy"><br>
ä¸‹ä¸ªçŠ¶æ€çš„ä»·å€¼å¯ä»¥ç”¨æ¥å¼ºåŒ–ä¸Šä¸€ä¸ªçŠ¶æ€çš„ä»·å€¼ï¼Œå¦‚ç»“åˆé£Ÿç‰©å’Œé“ƒå£°ä¸€èµ·å½±å“ç‹—çš„é£Ÿæ¬²ï¼ˆæµå£æ°´ï¼‰ã€‚<br>
<img src="https://yueqingsheng.github.io/post-images/1592422219338.jpg" alt="" loading="lazy"><br>
è¿™ä¸ªå…¬å¼å…¶å®å°±æ˜¯æŠŠæ¯ä¸€æ­¥çš„æ”¶ç›Šé€¼è¿‘äºæœªæ¥æ”¶ç›Šä¹‹å’Œï¼Œå³èµ°åˆ°è¿™ä¸€æ­¥è·å¾—çš„æ€»æ”¶ç›Šã€‚æ¯ä¸€æ¬¡å‘ç›®æ ‡å€¼çš„æ–¹å‘æ›´æ–°ä¸€ç‚¹ã€‚<br>
<img src="https://yueqingsheng.github.io/post-images/1592422876957.png" alt="" loading="lazy"><br>
æ¯æ¬¡è·³è½¬åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€æ—¶ï¼Œé€šè¿‡è¿™äº›Sarsaå‚æ•°ï¼Œä¾¿å¯å¾—çŸ¥å½“å‰çŠ¶æ€çš„Q valueã€‚<br>
<img src="https://yueqingsheng.github.io/post-images/1592423174750.png" alt="" loading="lazy"><br>
ç®—æ³•ï¼šæ¯èµ°ä¸€æ­¥ï¼Œå…ˆé€‰å‡ºè¦åšçš„åŠ¨ä½œã€‚å†èµ°ä¸‹ä¸€æ­¥ï¼Œé€šè¿‡çŠ¶æ€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">s_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œä»Qè¡¨æ‹¿åˆ°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">a_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, ç„¶åé€šè¿‡ä¸‹ä¸€æ­¥å’Œä¸Šä¸€æ­¥çš„å‚æ•°æ›´æ–° <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi><mo>(</mo><msub><mi>s</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">Q(s_1, a_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">Q</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<h3 id="å¦‚ä½•é€šè¿‡çŠ¶æ€-s-å»å–å‡ºåŠ¨ä½œ-a-epsilon-greedy">å¦‚ä½•é€šè¿‡çŠ¶æ€ s å»å–å‡ºåŠ¨ä½œ a ï¼Ÿ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ïµ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">Ïµ</span></span></span></span>-greedy</h3>
<figure data-type="image" tabindex="1"><img src="https://yueqingsheng.github.io/post-images/1592424271702.png" alt="" loading="lazy"></figure>
<h2 id="sarsa-ä»£ç ">Sarsa ä»£ç </h2>
<p><img src="https://lh6.googleusercontent.com/8jhtLe0-rCvlm69sSpofk5eh3g1hpOmFgBFQPLQKTgw7iUN8d6-mHxrx4JjnQGKI6AwDzpMiePXbNRU1O-NeDy6ER9QWMLjF2IHDDc_BTGKff--BNUZU9iw8QubW3nnBz6Qls7tT" alt="" loading="lazy"><br>
<a href="https://aistudio.baidu.com/aistudio/projectdetail/567852">paddleå®ç°é“¾æ¥</a></p>
<h2 id="off-policy">Off-Policy</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592427661829.png" alt="" loading="lazy"><br>
Off-Policy ä¸å’Œç¯å¢ƒäº¤äº’</p>
<h2 id="q-learning">Q-learning</h2>
<figure data-type="image" tabindex="2"><img src="https://i.stack.imgur.com/JE6BY.png" alt="" loading="lazy"></figure>
<h2 id="q-learning-vs-sarsa">Q-learning vs Sarsa</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592427877376.png" alt="" loading="lazy"><br>
Q-learning çš„ä¸‹ä¸ªçŠ¶æ€é€‰å–ä½¿Qæœ€å¤§çš„action<br>
<img src="https://yueqingsheng.github.io/post-images/1592428118258.png" alt="" loading="lazy"></p>
<h2 id="off-policy-vs-on-policy">Off-Policy vs On-policy</h2>
<blockquote>
<p>policy: ç­–ç•¥æ˜¯æŒ‡é€šè¿‡çŠ¶æ€ s å»å–å‡ºåŠ¨ä½œ a çš„ æ–¹æ³•/æ¦‚ç‡ã€‚Policy specifies an action ğ‘, that is taken in a state ğ‘  (or more precisely, ğœ‹ is a probability, that an action ğ‘ is taken in a state ğ‘ ).</p>
</blockquote>
<figure data-type="image" tabindex="3"><img src="https://yueqingsheng.github.io/post-images/1592428550500.png" alt="" loading="lazy"></figure>
<blockquote>
<p>è¡Œä¸ºç­–ç•¥ï¼šç”¨æ¥ä¸ç¯å¢ƒäº’åŠ¨æ”¶é›†æƒ…æŠ¥ã€äº§ç”Ÿæ•°æ®çš„ç­–ç•¥ï¼Œå³è®­ç»ƒè¿‡ç¨‹ä¸­çš„ç­–ç•¥ã€‚ Ï€(a|s)<br>
ç›®æ ‡ç­–ç•¥ï¼šåœ¨è¡Œä¸ºç­–ç•¥äº§ç”Ÿçš„æ•°æ®ä¸­ä¸æ–­å­¦ä¹ å’Œä¼˜åŒ–å¾—åˆ°çš„ç­–ç•¥ï¼Œå³å­¦ä¹ è®­ç»ƒå®Œæ¯•åæ‹¿å»åšè¡Œä¸ºè¯„ä¼°çš„ç­–ç•¥ã€‚Âµ(a|s)</p>
</blockquote>
<p>åŒºåˆ«æ˜¯</p>
<blockquote>
<p>on-policy é€šè¿‡çš„ä¸ç¯å¢ƒäº¤äº’çš„ç»éªŒæ›´æ–°Q, æŒ‰ä»¥å¾€ç»éªŒæ¥ã€‚ off-policy å°±ä¸ç®¡ä¹‹å‰ç»éªŒäº†ï¼Œé€šè¿‡ä»»æ„æ–¹å¼è·å–action, æ¯”å¦‚ greedyã€‚</p>
</blockquote>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592431533553.png" alt="" loading="lazy"><br>
On policy å¯¹äºä¿ç•™ç›®å‰æ¢ç´¢çš„æˆæœæœ‰å¥½å¤„ ï¼Œä½†å®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜ã€‚ä¸å¤Ÿå†’é™©ã€‚<br>
Off policy å¤Ÿå†’é™©ï¼Œå®¹æ˜“è¾¾åˆ°å…¨å±€æœ€ä¼˜ï¼Œä½†æ”¶æ•›æ›´æ…¢ï¼Œè¯•é”™æ›´å¤šï¼Œä¸é€‚åˆç°å®ä¸­è¯•é”™æˆæœ¬å¤ªå¤§çš„å°è¯•ã€‚</p>
<h2 id="æ‹“å±•">æ‹“å±•ï¼š</h2>
<p><a href="https://analyticsindiamag.com/reinforcement-learning-policy/">ON-POLICY VS OFF-POLICY REINFORCEMENT LEARNING</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¼ºåŒ–å­¦ä¹  Day 1 Introduction]]></title>
        <id>https://yueqingsheng.github.io/qiang-hua-xue-xi/</id>
        <link href="https://yueqingsheng.github.io/qiang-hua-xue-xi/">
        </link>
        <updated>2020-06-12T20:41:16.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯å¼ºåŒ–å­¦ä¹ ">ä»€ä¹ˆæ˜¯å¼ºåŒ–å­¦ä¹ ï¼Ÿ</h2>
<figure data-type="image" tabindex="1"><img src="https://yueqingsheng.github.io/post-images/1592340187285.png" alt="" loading="lazy"></figure>
<h2 id="ä¸¤éƒ¨åˆ†-ä¸‰è¦ç´ ">ä¸¤éƒ¨åˆ† ä¸‰è¦ç´ </h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592340281494.png" alt="" loading="lazy"><br>
åœ¨ Flappy bird ä¸­</p>
<table>
<thead>
<tr>
<th>agent</th>
<th>environment</th>
<th>state</th>
<th>action</th>
<th>reward</th>
</tr>
</thead>
<tbody>
<tr>
<td>é¸Ÿ</td>
<td>é¸Ÿå‘¨å›´çš„ç¯å¢ƒï¼Œæ°´ç®¡ã€å¤©ç©ºï¼ˆåŒ…æ‹¬å°é¸Ÿæœ¬èº«ï¼‰</td>
<td>æ‹ä¸ªç…§ï¼ˆç›®å‰çš„åƒç´ ï¼‰</td>
<td>å‘ä¸Šå‘ä¸‹åŠ¨ä½œ</td>
<td>è·ç¦»ï¼ˆè¶Šè¿œå¥–åŠ±è¶Šé«˜ï¼‰</td>
</tr>
</tbody>
</table>
<p>åŠ¨ä¸€ä¸‹æˆªä¸ªå›¾ å†å†³å®šä¸‹ä¸€ä¸ªåŠ¨ä½œ<br>
è·Ÿç¯å¢ƒäº¤äº’ï¼Œå†³ç­–ã€‚<br>
<img src="https://yueqingsheng.github.io/post-images/1592341430929.png" alt="" loading="lazy"><br>
å¥–åŠ±æ˜¯å»¶è¿Ÿçš„ã€‚è¿·å®«èµ°å®Œï¼Œæ‰æœ‰å¥–åŠ±ã€‚<br>
<img src="https://yueqingsheng.github.io/post-images/1592341492276.png" alt="" loading="lazy"></p>
<h2 id="å¼ºåŒ–å­¦ä¹ å’Œå…¶ä»–æœºå™¨å­¦ä¹ çš„å…³ç³»">å¼ºåŒ–å­¦ä¹ å’Œå…¶ä»–æœºå™¨å­¦ä¹ çš„å…³ç³»</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592341779032.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592342011873.png" alt="" loading="lazy"><br>
ç›‘ç£æ ·æœ¬ä¸€èˆ¬æ ·æœ¬å†…æ— å…³ç³»ã€‚å¼ºåŒ–å­¦ä¹ ï¼Œæ ·æœ¬ä¹‹é—´ç›¸äº’å½±å“ã€‚<br>
<img src="https://yueqingsheng.github.io/post-images/1592342296638.png" alt="" loading="lazy"><br>
åŸºäºä»·å€¼ä¼šå‘å›ºå®šæ–¹å‘èµ°ï¼ŒåŸºäºç­–ç•¥éšæœºæ€§æ›´é«˜ä¸€äº›ã€‚</p>
<h2 id="rl-agent-environment-äº¤äº’æ¥å£">RL agent &lt;-&gt; environment äº¤äº’æ¥å£</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592343026454.png" alt="" loading="lazy"><br>
reset é‡ç½®<br>
render æ¸²æŸ“ç›®å‰<br>
step äº¤äº’ä¸€æ­¥</p>
<h3 id="step-è¾“å‡ºå‚æ•°">Step è¾“å‡ºå‚æ•°</h3>
<figure data-type="image" tabindex="2"><img src="https://yueqingsheng.github.io/post-images/1592342821467.png" alt="" loading="lazy"></figure>
<ol>
<li>1-36 ä½ç½®ï¼ˆ36æ ¼å†…çš„ä½ç½®ï¼‰</li>
<li>-1 reward(å¥–åŠ±ï¼Œæ¯èµ°ä¸€æ­¥ä¼šæœ‰æƒ©ç½šï¼Œç›®æ ‡æœ€å°‘æ­¥æ•°èµ°å®Œ)</li>
<li>true/false æ¸¸æˆæ˜¯å¦å®Œæˆ</li>
<li>info é¢å¤–ä¿¡æ¯</li>
</ol>
<h3 id="git-clone-depth1">git clone --depth=1</h3>
<blockquote>
<p>depth ç”¨äºæŒ‡å®šå…‹éš†æ·±åº¦ï¼Œä¸º 1 å³è¡¨ç¤ºåªå…‹éš†æœ€è¿‘ä¸€æ¬¡ commit. å¯ä»¥è§£å†³é¡¹ç›®è¿‡å¤§çš„é—®é¢˜</p>
</blockquote>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<figure data-type="image" tabindex="3"><img src="https://yueqingsheng.github.io/post-images/1592343683260.png" alt="" loading="lazy"></figure>
<p>æ‹“å±•ï¼š<a href="https://www.zhihu.com/question/23474039/answer/269526476">ä¸ºä»€ä¹ˆæœ‰äººè¯´ Python çš„å¤šçº¿ç¨‹æ˜¯é¸¡è‚‹å‘¢ï¼Ÿ</a></p>
<p>å›¾ç‰‡æ¥æºï¼š<a href="https://aistudio.baidu.com/aistudio/projectdetail/560767">PARL å¼ºåŒ–å­¦ä¹ å…¬å¼€è¯¾ Lesson1</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç³»ç»Ÿè®¾è®¡5 åŸºäºåœ°ç†ä½ç½®çš„ä¿¡æ¯ç³»ç»Ÿï¼ˆLocation based service)]]></title>
        <id>https://yueqingsheng.github.io/xi-tong-she-ji-5-ji-yu-di-li-wei-zhi-de-xin-xi-xi-tong-location-based-service/</id>
        <link href="https://yueqingsheng.github.io/xi-tong-she-ji-5-ji-yu-di-li-wei-zhi-de-xin-xi-xi-tong-location-based-service/">
        </link>
        <updated>2020-06-12T02:09:06.000Z</updated>
        <content type="html"><![CDATA[<h2 id="rpcremote-procedure-call">RPC(remote procedure call)</h2>
<p>ä¸åŒçš„æœºå™¨ä¹‹é—´è°ƒç”¨å‡½æ•°<br>
httpåŒ…å«äº†å¾ˆå¤šéªŒè¯ä¿¡æ¯, ä¸é«˜æ•ˆ</p>
<h2 id="google-s2ä½ç½®å‚¨å­˜-æŸ¥è¯¢ç³»ç»Ÿ">Google S2(ä½ç½®å‚¨å­˜ æŸ¥è¯¢ç³»ç»Ÿ)</h2>
<p>System design = logic design + infrastructure design(æ¶æ„è®¾è®¡)</p>
<h2 id="scenario">Scenario</h2>
<p><img src="https://yueqingsheng.github.io/post-images/1592234676481.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592235236181.png" alt="" loading="lazy"><br>
æ”¶é›†ç”¨æˆ·ä¿¡æ¯ï¼Œé¢„æµ‹æ‰“è½¦æ¦‚ç‡ã€‚</p>
<h2 id="service">Service</h2>
<figure data-type="image" tabindex="1"><img src="https://yueqingsheng.github.io/post-images/1592239148033.png" alt="" loading="lazy"></figure>
<h2 id="storage">Storage</h2>
<figure data-type="image" tabindex="2"><img src="https://yueqingsheng.github.io/post-images/1592246122954.png" alt="" loading="lazy"></figure>
<h3 id="trip-tableå•">Trip Table:ï¼ˆå•ï¼‰</h3>
<p>è¯»å¤šå†™å°‘ æ¯å››ç§’æŸ¥ä¸€æ¬¡é™„è¿‘çš„æ¥å•ä¿¡æ¯</p>
<h3 id="location-table">Location Table:</h3>
<p>è¯»å°‘å†™å¤š æ¯å››ç§’å†™ä¸€æ¬¡driver location</p>
<h2 id="èŒƒå›´æŸ¥è¯¢">èŒƒå›´æŸ¥è¯¢</h2>
<figure data-type="image" tabindex="3"><img src="https://yueqingsheng.github.io/post-images/1592247699767.png" alt="" loading="lazy"></figure>
<h2 id="äºŒç»´æŸ¥è¯¢æ˜ å°„åˆ°ä¸€ç»´">äºŒç»´æŸ¥è¯¢æ˜ å°„åˆ°ä¸€ç»´</h2>
<h3 id="google-s2">Google S2</h3>
<p><img src="https://yueqingsheng.github.io/post-images/1592247980056.png" alt="" loading="lazy"><br>
<img src="https://yueqingsheng.github.io/post-images/1592248137315.png" alt="" loading="lazy"></p>
<h3 id="geohash">Geohash</h3>
<p><img src="https://yueqingsheng.github.io/post-images/1592248499067.png" alt="" loading="lazy"><br>
æŸ¥çœ‹å…¬å…±å‰ç¼€ç›¸ä¼¼åº¦ï¼Œ32ä»½ï¼Œ<br>
<strong>ä¸ºä»€ä¹ˆæ˜¯ 1ï¼š2ï¼Ÿ</strong><br>
4 * 8ï¼ˆ180ï¼Œ360ï¼‰çº¬ç»åº¦æ¯”<br>
<strong>ä¸ºä»€ä¹ˆä¸Šä¸‹æ–¹ä¸¤è¡Œé•¿ï¼Ÿ</strong><br>
å› ä¸ºåœ°çƒæ˜¯åœ†çš„ï¼Œä¸Šä¸‹å çš„é¢ç§¯ç›¸å½“äºä¸‰è§’å½¢<br>
<strong>ä¸ºä»€ä¹ˆæ˜¯ 4*8?</strong><br>
<img src="https://yueqingsheng.github.io/post-images/1592249368751.png" alt="" loading="lazy"><br>
ç¼ºé™·  ï¼šåˆšå¥½åœ¨çº¿ä¸Šï¼Œçº¿ä¸¤è¾¹å·®è·å¤§</p>
<h4 id="æŸ¥è¯¢-google-åŠå¾„ä¸¤å…¬é‡Œä»¥å†…çš„è½¦">æŸ¥è¯¢ Google åŠå¾„ä¸¤å…¬é‡Œä»¥å†…çš„è½¦</h4>
<p>geohash LIKE 9q9hv%, %åˆ†å·åœ¨åé¢ï¼Œè¡¨ç¤ºä»¥9q9hvå¼€å¤´<br>
<img src="https://yueqingsheng.github.io/post-images/1592249754838.png" alt="" loading="lazy"><br>
Redis value: set åˆ é™¤ O(1) list åˆ é™¤O(n)</p>
<h2 id="åŒ¹é…">åŒ¹é…</h2>
<figure data-type="image" tabindex="4"><img src="https://yueqingsheng.github.io/post-images/1592251096560.png" alt="" loading="lazy"></figure>
<h2 id="scale">Scale</h2>
<p>è¿ç§»æˆæœ¬ä½ï¼ŒæŸå¤±æˆæœ¬å¤§ã€‚å•ç‚¹ Failure</p>
<h3 id="db-sharding">DB sharding</h3>
<p>æŒ‰Geo hash å‰å››ä½<br>
Uber ä½¿ç”¨åŸå¸‚ Sharding</p>
<h4 id="å®šä¹‰åŸå¸‚">å®šä¹‰åŸå¸‚</h4>
<p>Geo Fence<br>
æ±‚ä¸€ä¸ªç‚¹æ˜¯å¦åœ¨å¤šè¾¹å½¢å†…<br>
<img src="https://yueqingsheng.github.io/post-images/1592251619394.png" alt="" loading="lazy"><br>
ä¹˜å®¢åœ¨è¾¹ç•Œä¸Šï¼Œè®°å½•åŸå¸‚è¿æ¥å…³ç³»</p>
<h4 id="æœºåœº">æœºåœº</h4>
<p>å…ˆæ‰¾åˆ°åŸå¸‚ï¼Œå†æŸ¥è¯¢ airport fence</p>
<h5 id="å‡å°‘é£é™©">å‡å°‘é£é™©</h5>
<ol>
<li>Master slave</li>
<li>æ¢æ•°æ®åº“Riak</li>
</ol>
]]></content>
    </entry>
</feed>